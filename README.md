# Redditgram 🚀\n\nA modern, high-performance Reddit image and video browser built with Next.js 15, featuring real-time content streaming, advanced caching, and a beautiful masonry layout.\n\n## ✨ Features\n\n### Core Functionality\n- **Multi-subreddit browsing** - View content from multiple subreddits simultaneously\n- **Smart media handling** - Images, videos, and galleries with optimized loading\n- **Infinite scrolling** - Seamless content loading as you browse\n- **Advanced filtering** - Sort by hot/top with time frame options\n- **Favorites system** - Save and organize your favorite posts\n- **Responsive design** - Perfect on desktop, tablet, and mobile\n\n### Performance & Security\n- **Rate limiting** - Built-in API protection (60 requests/hour per IP)\n- **Enhanced caching** - LRU cache with TTL for optimal performance\n- **Image optimization** - Next.js Image component with lazy loading\n- **Error boundaries** - Graceful error handling and recovery\n- **Input validation** - Comprehensive XSS and injection protection\n- **Structured logging** - Detailed logging for debugging and monitoring\n\n### User Experience\n- **Masonry layout** - Pinterest-style responsive grid\n- **Fullscreen viewer** - Immersive media viewing experience\n- **Keyboard navigation** - Arrow keys in fullscreen mode\n- **Touch gestures** - Swipe navigation on mobile\n- **Saved lists** - Create and manage custom subreddit collections\n- **Dark theme** - Eye-friendly interface\n\n## 🛠️ Tech Stack\n\n- **Framework**: Next.js 15 with App Router\n- **Language**: TypeScript for type safety\n- **Styling**: Tailwind CSS + Shadcn/ui components\n- **State Management**: React hooks and context\n- **API**: Reddit OAuth 2.0 with server-side proxy\n- **Caching**: Vercel KV (Redis) + client-side LRU cache\n- **Validation**: Zod for runtime type checking\n- **Icons**: Lucide React\n\n## 📦 Installation\n\n### Prerequisites\n- Node.js 18+ \n- npm or yarn\n- Reddit API credentials\n- Vercel KV database (optional, falls back to in-memory)\n\n### Setup\n\n1. **Clone the repository**\n   ```bash\n   git clone <repository-url>\n   cd redditgram\n   ```\n\n2. **Install dependencies**\n   ```bash\n   npm install\n   # or\n   yarn install\n   ```\n\n3. **Environment configuration**\n   Create a `.env.local` file in the root directory:\n   ```env\n   # Required: Reddit API credentials\n   REDDIT_CLIENT_ID=your_reddit_client_id\n   REDDIT_CLIENT_SECRET=your_reddit_client_secret\n   REDDIT_USERNAME=your_reddit_username\n   \n   # Optional: Vercel KV for production caching\n   KV_URL=your_kv_redis_url\n   KV_REST_API_URL=your_kv_rest_api_url\n   KV_REST_API_TOKEN=your_kv_rest_api_token\n   \n   # Optional: Environment\n   NODE_ENV=development\n   ```\n\n4. **Get Reddit API credentials**\n   - Go to [Reddit Apps](https://www.reddit.com/prefs/apps)\n   - Click \"Create App\" or \"Create Another App\"\n   - Choose \"web app\" type\n   - Set redirect URI to `http://localhost:3000` (for development)\n   - Copy the client ID and secret\n\n5. **Run the development server**\n   ```bash\n   npm run dev\n   # or\n   yarn dev\n   ```\n\n6. **Open your browser**\n   Navigate to `http://localhost:3000`\n\n## 🚀 Deployment\n\n### Vercel (Recommended)\n\n1. **Push to GitHub/GitLab**\n   ```bash\n   git add .\n   git commit -m \"Initial commit\"\n   git push origin main\n   ```\n\n2. **Deploy to Vercel**\n   - Connect your repository on [Vercel](https://vercel.com)\n   - Add environment variables in Vercel dashboard\n   - Deploy automatically on push\n\n3. **Set up Vercel KV**\n   - Add KV database in Vercel dashboard\n   - Copy connection strings to environment variables\n\n### Other Platforms\n\n- **Netlify**: Use `npm run build` and deploy the `out` folder\n- **Railway**: Connect repository and add environment variables\n- **DigitalOcean App Platform**: Use the provided buildpack\n\n## 🎯 Usage\n\n### Basic Usage\n1. Enter subreddit names (comma-separated): `pics, earthporn, cozyplaces`\n2. Choose sorting: **Hot** (trending) or **Top** (best of timeframe)\n3. Click **Fetch** to load content\n4. Scroll to load more posts automatically\n\n### Advanced Features\n\n**Favorites**\n- Click the heart icon on any post to save it\n- Use \"Show Favorites\" to view your saved posts\n- Favorites persist across sessions\n\n**Saved Lists**\n- Save frequently used subreddit combinations\n- Quick access via dropdown menu\n- Manage multiple collections\n\n**Keyboard Shortcuts**\n- `Arrow Left/Right`: Navigate in fullscreen mode\n- `Enter`: Fetch posts (when input is focused)\n- `Escape`: Close fullscreen viewer\n\n## 🏗️ Architecture\n\n### Project Structure\n```\nsrc/\n├── app/                    # Next.js App Router\n│   ├── api/reddit/        # Reddit API proxy\n│   ├── globals.css        # Global styles\n│   ├── layout.tsx         # Root layout\n│   └── page.tsx           # Home page\n├── components/            # React components\n│   ├── ui/               # Shadcn/ui components\n│   ├── error-boundary.tsx # Error handling\n│   ├── media-carousel.tsx # Media viewer\n│   ├── controls-panel.tsx # UI controls\n│   └── posts-grid.tsx    # Masonry grid\n├── lib/                  # Utilities\n│   ├── cache.ts         # Enhanced caching\n│   ├── env.ts           # Environment validation\n│   ├── logger.ts        # Structured logging\n│   ├── rate-limiter.ts  # API rate limiting\n│   ├── utils.ts         # General utilities\n│   └── validation.ts    # Input validation\n├── services/            # API services\n│   └── reddit.ts       # Reddit API client\n└── hooks/              # Custom React hooks\n    └── use-toast.ts    # Toast notifications\n```\n\n### Security Features\n\n**API Protection**\n- Rate limiting: 60 requests/hour per IP\n- Input validation and sanitization\n- Environment variable validation\n- CORS protection\n- Request timeout handling\n\n**Client Security**\n- XSS prevention via input sanitization\n- Content Security Policy headers\n- Secure image domain validation\n- Error boundary protection\n\n**Data Privacy**\n- No user data collection\n- Local storage only for preferences\n- No tracking or analytics\n- Reddit API respects user privacy settings\n\n## 🔧 Configuration\n\n### Cache Configuration\n```typescript\n// Adjust cache settings in src/lib/cache.ts\nconst redditCache = new EnhancedCache({\n  maxSize: 200,              // Max entries\n  defaultTTL: 10 * 60 * 1000, // 10 minutes\n  cleanupInterval: 2 * 60 * 1000 // Cleanup every 2 minutes\n});\n```\n\n### Rate Limiting\n```typescript\n// Configure in src/lib/rate-limiter.ts\nexport const rateLimitConfigs = {\n  reddit: {\n    maxRequests: 60,           // Requests per window\n    windowMs: 60 * 60 * 1000,  // 1 hour window\n  }\n};\n```\n\n### Logging Levels\n```typescript\n// Available log levels in src/lib/logger.ts\nlogger.debug('context', 'Debug info');  // Development only\nlogger.info('context', 'General info'); // Always shown\nlogger.warn('context', 'Warning');      // Warnings\nlogger.error('context', 'Error');       // Errors\n```\n\n## 📊 Performance\n\n### Optimization Features\n- **Image lazy loading** with Next.js Image component\n- **Code splitting** for smaller bundle sizes\n- **Tree shaking** to eliminate unused code\n- **LRU caching** for efficient memory usage\n- **Request deduplication** to prevent duplicate API calls\n- **Infinite scrolling** for better perceived performance\n\n### Monitoring\n```bash\n# Build analysis\nnpm run build && npm run analyze\n\n# Type checking\nnpm run typecheck\n\n# Linting\nnpm run lint\n```\n\n## 🐛 Troubleshooting\n\n### Common Issues\n\n**\"No posts found\"**\n- Check subreddit names are correct\n- Ensure subreddits are public\n- Try different sort options\n\n**Rate limit errors**\n- Wait 1 hour for limit reset\n- Check if multiple users share same IP\n- Consider upgrading rate limits\n\n**Images not loading**\n- Check network connectivity\n- Reddit images may be temporarily unavailable\n- Try refreshing the page\n\n**Build errors**\n- Ensure all environment variables are set\n- Check Node.js version (18+ required)\n- Clear `.next` folder and rebuild\n\n### Debug Mode\nEnable detailed logging by setting:\n```env\nNODE_ENV=development\n```\n\n## 🤝 Contributing\n\n1. **Fork the repository**\n2. **Create a feature branch**\n   ```bash\n   git checkout -b feature/amazing-feature\n   ```\n3. **Make your changes**\n   - Follow TypeScript best practices\n   - Add proper error handling\n   - Include JSDoc comments\n   - Write tests if applicable\n\n4. **Test your changes**\n   ```bash\n   npm run typecheck\n   npm run lint\n   npm run build\n   ```\n\n5. **Commit and push**\n   ```bash\n   git commit -m \"Add amazing feature\"\n   git push origin feature/amazing-feature\n   ```\n\n6. **Create a Pull Request**\n\n### Code Standards\n- Use TypeScript for all new code\n- Follow existing naming conventions\n- Add proper error handling\n- Include JSDoc for complex functions\n- Test on multiple screen sizes\n\n## 📝 License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.\n\n## 🙏 Acknowledgments\n\n- [Reddit API](https://www.reddit.com/dev/api) for content access\n- [Shadcn/ui](https://ui.shadcn.com/) for beautiful components\n- [Next.js](https://nextjs.org/) for the amazing framework\n- [Vercel](https://vercel.com/) for seamless deployment\n- [Tailwind CSS](https://tailwindcss.com/) for utility-first styling\n\n## 📈 Roadmap\n\n- [ ] Advanced search and filtering\n- [ ] User authentication and profiles\n- [ ] Comment viewing and interaction\n- [ ] PWA support for offline usage\n- [ ] Enhanced video player with controls\n- [ ] Bulk download functionality\n- [ ] Custom themes and layouts\n- [ ] Analytics dashboard\n- [ ] Mobile app version\n- [ ] Integration with other platforms\n\n---\n\n**Built with ❤️ by the development team**\n\nFor support, please open an issue or contact the maintainers.\n"